{"ast":null,"code":"var _jsxFileName = \"D:\\\\Workspace\\\\Project_ReactJS\\\\my-socical\\\\src\\\\page\\\\Home\\\\index.js\",\n  _s = $RefreshSig$();\nimport { Row, Col, Avatar, Image, Button } from \"antd\";\nimport React, { useState, useEffect } from \"react\";\nimport Story from \"../../components/Story\";\nimport { AiOutlineVideoCameraAdd } from \"react-icons/ai\";\nimport { MdOutlineCollections, MdInsertEmoticon } from \"react-icons/md\";\nimport Post from \"../../components/Post\";\nimport AddPost from \"../../components/AddPost\";\nimport { collection, getDocs, onSnapshot, orderBy } from \"firebase/firestore\";\nimport { db } from \"../../services/firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { auth } from \"../../services/firebase\";\nimport { query } from \"firebase/database\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  const [dataPost, setDataPost] = useState([]);\n  const [user] = useAuthState(auth);\n  useEffect(() => {\n    // const fectPosts = async () => {\n    //   const listPosts = [];\n    //   const querySnapshot = await getDocs(collection(db, \"Posts\"));\n    //   querySnapshot.forEach((doc) => {\n    //     // doc.data() is never undefined for query doc snapshots\n    //     // console.log(doc.id, \" => \", doc.data());\n    //     listPosts.push({ id: doc.id, ...doc.data() });\n    //   });\n    //   setDataPost(listPosts);\n    // };\n    // fectPosts();\n    // LISTEN (REALTIME)\n    const CollectionRef = collection(db, \"Posts\");\n    const q = query(CollectionRef, orderBy(\"timeUp\", \"desc\"));\n    const unsub = onSnapshot(q, snapShot => {\n      let listPosts = [];\n      snapShot.docs.forEach(doc => {\n        listPosts.push({\n          id: doc.id,\n          ...doc.data()\n        });\n      });\n      setDataPost(listPosts);\n    }, error => {\n      console.log(error);\n    });\n    return () => {\n      unsub();\n    };\n  }, []);\n  console.log(dataPost);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundColor: \"transparent\",\n      height: 1000,\n      padding: \"30px 100px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        style: {\n          borderRadius: 8,\n          overflow: \"hidden\",\n          boxShadow: \"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Story, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), user && /*#__PURE__*/_jsxDEV(Row, {\n      style: {},\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(AddPost, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: dataPost.map((item, index) => /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        style: {\n          margin: \"20px 0px\",\n          borderRadius: 8,\n          overflow: \"hidden\",\n          boxShadow: \"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Post, {\n          imgAuthor: item.imgAuthor,\n          img: item.img,\n          content: item.content,\n          author: item.author,\n          timeUp: item.timeUp,\n          timeUpN: item.timeUp.nanoseconds\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(Home, \"zLAn0RrO9B16yL8O9vqCkDTF0MQ=\", false, function () {\n  return [useAuthState];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["Row","Col","Avatar","Image","Button","React","useState","useEffect","Story","AiOutlineVideoCameraAdd","MdOutlineCollections","MdInsertEmoticon","Post","AddPost","collection","getDocs","onSnapshot","orderBy","db","useAuthState","auth","query","Home","dataPost","setDataPost","user","CollectionRef","q","unsub","snapShot","listPosts","docs","forEach","doc","push","id","data","error","console","log","backgroundColor","height","padding","borderRadius","overflow","boxShadow","map","item","index","margin","imgAuthor","img","content","author","timeUp","nanoseconds"],"sources":["D:/Workspace/Project_ReactJS/my-socical/src/page/Home/index.js"],"sourcesContent":["import { Row, Col, Avatar, Image, Button } from \"antd\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Story from \"../../components/Story\";\r\nimport { AiOutlineVideoCameraAdd } from \"react-icons/ai\";\r\nimport { MdOutlineCollections, MdInsertEmoticon } from \"react-icons/md\";\r\nimport Post from \"../../components/Post\";\r\nimport AddPost from \"../../components/AddPost\";\r\nimport { collection, getDocs, onSnapshot, orderBy } from \"firebase/firestore\";\r\nimport { db } from \"../../services/firebase\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { auth } from \"../../services/firebase\";\r\nimport { query } from \"firebase/database\";\r\n\r\nexport default function Home() {\r\n  const [dataPost, setDataPost] = useState([]);\r\n  const [user] = useAuthState(auth);\r\n  useEffect(() => {\r\n    // const fectPosts = async () => {\r\n    //   const listPosts = [];\r\n    //   const querySnapshot = await getDocs(collection(db, \"Posts\"));\r\n    //   querySnapshot.forEach((doc) => {\r\n    //     // doc.data() is never undefined for query doc snapshots\r\n    //     // console.log(doc.id, \" => \", doc.data());\r\n    //     listPosts.push({ id: doc.id, ...doc.data() });\r\n    //   });\r\n    //   setDataPost(listPosts);\r\n    // };\r\n    // fectPosts();\r\n    // LISTEN (REALTIME)\r\n    const CollectionRef = collection(db, \"Posts\");\r\n    const q = query(CollectionRef, orderBy(\"timeUp\", \"desc\"));\r\n    const unsub = onSnapshot(\r\n      q,\r\n      (snapShot) => {\r\n        let listPosts = [];\r\n        snapShot.docs.forEach((doc) => {\r\n          listPosts.push({ id: doc.id, ...doc.data() });\r\n        });\r\n        setDataPost(listPosts);\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      unsub();\r\n    };\r\n  }, []);\r\n  console.log(dataPost);\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"transparent\",\r\n        height: 1000,\r\n        padding: \"30px 100px\",\r\n      }}\r\n    >\r\n      <Row>\r\n        <Col\r\n          span={24}\r\n          style={{\r\n            borderRadius: 8,\r\n            overflow: \"hidden\",\r\n            boxShadow:\r\n              \"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px\",\r\n          }}\r\n        >\r\n          <Story />\r\n        </Col>\r\n      </Row>\r\n\r\n      {user && (\r\n        <Row style={{}}>\r\n          <Col span={24}>\r\n            <AddPost />\r\n          </Col>\r\n        </Row>\r\n      )}\r\n\r\n      <Row>\r\n        {dataPost.map((item, index) => (\r\n          <Col\r\n            span={24}\r\n            style={{\r\n              margin: \"20px 0px\",\r\n              borderRadius: 8,\r\n              overflow: \"hidden\",\r\n              boxShadow:\r\n                \"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px\",\r\n            }}\r\n            key={index}\r\n          >\r\n            <Post\r\n              imgAuthor={item.imgAuthor}\r\n              img={item.img}\r\n              content={item.content}\r\n              author={item.author}\r\n              timeUp={item.timeUp}\r\n              timeUpN={item.timeUp.nanoseconds}\r\n            />\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}